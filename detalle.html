<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalle del Producto | Coferra</title>
    <link rel="stylesheet" href="estilos-ferre.css">
    <style>
        
        /* Unos estilos r√°pidos extra para esta p√°gina */
        .contenedor-detalle {
            max-width: 600px;
            margin: 40px auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }
        .img-detalle { width: 100%; max-height: 400px; object-fit: contain; border-radius: 10px; }
        .btn-whatsapp {
            display: inline-block;
            background-color: #25D366; /* Verde WhatsApp */
            color: white;
            padding: 15px 30px;
            text-decoration: none;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.1rem;
            transition: 0.3s;
        }
        .btn-whatsapp:hover { background-color: #128C7E; transform: scale(1.05); }
    </style>
</head>
<body>

    <header>
        <h1>COFERRA</h1>
        <a href="index.html" style="color: white; text-decoration: none;">‚Üê Volver al cat√°logo</a>
    </header>

    <div class="contenedor-detalle" id="vista-detalle">
        </div>

    <script src="productos.js"></script>

    <script>
        function cargarDetalleProducto() {
            // 1. Obtener ID de la URL
            const params = new URLSearchParams(window.location.search);
            const idProducto = params.get('id');

            // 2. Buscar el producto en el array de productos.js
            const p = productos.find(item => item.id == idProducto);

            if (p) {
                // 3. Crear el mensaje personalizado para WhatsApp
                const mensaje = `Hola Coferra! üëã Vi el producto *${p.nombre}* en su p√°gina web y me gustar√≠a m√°s informaci√≥n.`;
                const urlWa = `https://wa.me/${p.whatsapp}?text=${encodeURIComponent(mensaje)}`;

                // 4. Inyectar el HTML
                document.getElementById('vista-detalle').innerHTML = `
                    <img src="${p.imagen}" alt="${p.nombre}" class="img-detalle">
                    <p style="color: orange; font-weight: bold; margin-top:10px;">${p.categoria}</p>
                    <h1>${p.nombre}</h1>
                    <p>${p.descripcion}</p>
                    <a href="${urlWa}" target="_blank" class="btn-whatsapp">
                        Consultar por WhatsApp
                    </a>
                `;
                document.title = `${p.nombre} | Coferra`;
            } else {
                document.getElementById('vista-detalle').innerHTML = "<h1>Producto no encontrado</h1>";
            }
        }

        window.onload = cargarDetalleProducto;
        // Dentro del script de detalle.html
document.getElementById('vista-detalle').innerHTML = `
    <img src="${p.imagen}" alt="${p.nombre}" class="img-detalle">
    <p style="color: orange; font-weight: bold; margin-top:10px;">${p.categoria}</p>
    <h1>${p.nombre}</h1>
    <p>${p.descripcion}</p>
    
    <div class="banner-consulta">
        <p>¬øQuieres saber el precio o si tenemos existencias?</p>
        <a href="${urlWa}" target="_blank" class="btn-whatsapp">
            Preguntar por WhatsApp ahora
        </a>
    </div>
`;
    </script>

</body>
</html>